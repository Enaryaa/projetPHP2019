class CI_Jquery
!!!707586.php!!!	__construct(in params : array) : void
		$this->CI =& get_instance();
		extract($params);

		if ($autoload === TRUE)
		{
			$this->script();
		}

		log_message('info', 'Jquery Class Initialized');
!!!707714.php!!!	_blur(in element : string = 'this', in js : string = '') : string
		return $this->_add_event($element, $js, 'blur');
!!!707842.php!!!	_change(in element : string = 'this', in js : string = '') : string
		return $this->_add_event($element, $js, 'change');
!!!707970.php!!!	_click(in element : string = 'this', in js : string = '', in ret_false : bool = TRUE) : string
		is_array($js) OR $js = array($js);

		if ($ret_false)
		{
			$js[] = 'return false;';
		}

		return $this->_add_event($element, $js, 'click');
!!!708098.php!!!	_dblclick(in element : string = 'this', in js : string = '') : string
		return $this->_add_event($element, $js, 'dblclick');
!!!708226.php!!!	_error(in element : string = 'this', in js : string = '') : string
		return $this->_add_event($element, $js, 'error');
!!!708354.php!!!	_focus(in element : string = 'this', in js : string = '') : string
		return $this->_add_event($element, $js, 'focus');
!!!708482.php!!!	_hover(in element : string = 'this', in over : string = '', in out : string = '') : string
		$event = "\n\t$(".$this->_prep_element($element).").hover(\n\t\tfunction()\n\t\t{\n\t\t\t{$over}\n\t\t}, \n\t\tfunction()\n\t\t{\n\t\t\t{$out}\n\t\t});\n";

		$this->jquery_code_for_compile[] = $event;

		return $event;
!!!708610.php!!!	_keydown(in element : string = 'this', in js : string = '') : string
		return $this->_add_event($element, $js, 'keydown');
!!!708738.php!!!	_keyup(in element : string = 'this', in js : string = '') : string
		return $this->_add_event($element, $js, 'keyup');
!!!708866.php!!!	_load(in element : string = 'this', in js : string = '') : string
		return $this->_add_event($element, $js, 'load');
!!!708994.php!!!	_mousedown(in element : string = 'this', in js : string = '') : string
		return $this->_add_event($element, $js, 'mousedown');
!!!709122.php!!!	_mouseout(in element : string = 'this', in js : string = '') : string
		return $this->_add_event($element, $js, 'mouseout');
!!!709250.php!!!	_mouseover(in element : string = 'this', in js : string = '') : string
		return $this->_add_event($element, $js, 'mouseover');
!!!709378.php!!!	_mouseup(in element : string = 'this', in js : string = '') : string
		return $this->_add_event($element, $js, 'mouseup');
!!!709506.php!!!	_output(in array_js : array = array()) : void
		if ( ! is_array($array_js))
		{
			$array_js = array($array_js);
		}

		foreach ($array_js as $js)
		{
			$this->jquery_code_for_compile[] = "\t".$js."\n";
		}
!!!709634.php!!!	_resize(in element : string = 'this', in js : string = '') : string
		return $this->_add_event($element, $js, 'resize');
!!!709762.php!!!	_scroll(in element : string = 'this', in js : string = '') : string
		return $this->_add_event($element, $js, 'scroll');
!!!709890.php!!!	_unload(in element : string = 'this', in js : string = '') : string
		return $this->_add_event($element, $js, 'unload');
!!!710018.php!!!	_addClass(in element : string = 'this', in class : string = '') : string
		$element = $this->_prep_element($element);
		return '$('.$element.').addClass("'.$class.'");';
!!!710146.php!!!	_animate(in element : string = 'this', in params : array = array(), in speed : string = '', in extra : string = '') : string
		$element = $this->_prep_element($element);
		$speed = $this->_validate_speed($speed);

		$animations = "\t\t\t";

		foreach ($params as $param => $value)
		{
			$animations .= $param.": '".$value."', ";
		}

		$animations = substr($animations, 0, -2); // remove the last ", "

		if ($speed !== '')
		{
			$speed = ', '.$speed;
		}

		if ($extra !== '')
		{
			$extra = ', '.$extra;
		}

		return "$({$element}).animate({\n$animations\n\t\t}".$speed.$extra.');';
!!!710274.php!!!	_fadeIn(in element : string = 'this', in speed : string = '', in callback : string = '') : string
		$element = $this->_prep_element($element);
		$speed = $this->_validate_speed($speed);

		if ($callback !== '')
		{
			$callback = ", function(){\n{$callback}\n}";
		}

		return "$({$element}).fadeIn({$speed}{$callback});";
!!!710402.php!!!	_fadeOut(in element : string = 'this', in speed : string = '', in callback : string = '') : string
		$element = $this->_prep_element($element);
		$speed = $this->_validate_speed($speed);

		if ($callback !== '')
		{
			$callback = ", function(){\n{$callback}\n}";
		}

		return '$('.$element.').fadeOut('.$speed.$callback.');';
!!!710530.php!!!	_hide(in element : string = 'this', in speed : string = '', in callback : string = '') : string
		$element = $this->_prep_element($element);
		$speed = $this->_validate_speed($speed);

		if ($callback !== '')
		{
			$callback = ", function(){\n{$callback}\n}";
		}

		return "$({$element}).hide({$speed}{$callback});";
!!!710658.php!!!	_removeClass(in element : string = 'this', in class : string = '') : string
		$element = $this->_prep_element($element);
		return '$('.$element.').removeClass("'.$class.'");';
!!!710786.php!!!	_slideUp(in element : string = 'this', in speed : string = '', in callback : string = '') : string
		$element = $this->_prep_element($element);
		$speed = $this->_validate_speed($speed);

		if ($callback !== '')
		{
			$callback = ", function(){\n{$callback}\n}";
		}

		return '$('.$element.').slideUp('.$speed.$callback.');';
!!!710914.php!!!	_slideDown(in element : string = 'this', in speed : string = '', in callback : string = '') : string
		$element = $this->_prep_element($element);
		$speed = $this->_validate_speed($speed);

		if ($callback !== '')
		{
			$callback = ", function(){\n{$callback}\n}";
		}

		return '$('.$element.').slideDown('.$speed.$callback.');';
!!!711042.php!!!	_slideToggle(in element : string = 'this', in speed : string = '', in callback : string = '') : string
		$element = $this->_prep_element($element);
		$speed = $this->_validate_speed($speed);

		if ($callback !== '')
		{
			$callback = ", function(){\n{$callback}\n}";
		}

		return '$('.$element.').slideToggle('.$speed.$callback.');';
!!!711170.php!!!	_toggle(in element : string = 'this') : string
		$element = $this->_prep_element($element);
		return '$('.$element.').toggle();';
!!!711298.php!!!	_toggleClass(in element : string = 'this', in class : string = '') : string
		$element = $this->_prep_element($element);
		return '$('.$element.').toggleClass("'.$class.'");';
!!!711426.php!!!	_show(in element : string = 'this', in speed : string = '', in callback : string = '') : string
		$element = $this->_prep_element($element);
		$speed = $this->_validate_speed($speed);

		if ($callback !== '')
		{
			$callback = ", function(){\n{$callback}\n}";
		}

		return '$('.$element.').show('.$speed.$callback.');';
!!!711554.php!!!	_updater(in container : string = 'this', in controller : string = '', in options : string = '') : string
		$container = $this->_prep_element($container);
		$controller = (strpos('://', $controller) === FALSE) ? $controller : $this->CI->config->site_url($controller);

		// ajaxStart and ajaxStop are better choices here... but this is a stop gap
		if ($this->CI->config->item('javascript_ajax_img') === '')
		{
			$loading_notifier = 'Loading...';
		}
		else
		{
			$loading_notifier = '<img src="'.$this->CI->config->slash_item('base_url').$this->CI->config->item('javascript_ajax_img').'" alt="Loading" />';
		}

		$updater = '$('.$container.").empty();\n" // anything that was in... get it out
			."\t\t$(".$container.').prepend("'.$loading_notifier."\");\n"; // to replace with an image

		$request_options = '';
		if ($options !== '')
		{
			$request_options .= ', {'
					.(is_array($options) ? "'".implode("', '", $options)."'" : "'".str_replace(':', "':'", $options)."'")
					.'}';
		}

		return $updater."\t\t$($container).load('$controller'$request_options);";
!!!711682.php!!!	_zebraTables(in class : string = '', in odd : string = 'odd', in hover : string = '') : string
		$class = ($class !== '') ? '.'.$class : '';
		$zebra = "\t\$(\"table{$class} tbody tr:nth-child(even)\").addClass(\"{$odd}\");";

		$this->jquery_code_for_compile[] = $zebra;

		if ($hover !== '')
		{
			$hover = $this->hover("table{$class} tbody tr", "$(this).addClass('hover');", "$(this).removeClass('hover');");
		}

		return $zebra;
!!!711810.php!!!	corner(in element : string = '', in corner_style : string = '') : string
		// may want to make this configurable down the road
		$corner_location = '/plugins/jquery.corner.js';

		if ($corner_style !== '')
		{
			$corner_style = '"'.$corner_style.'"';
		}

		return '$('.$this->_prep_element($element).').corner('.$corner_style.');';
!!!711938.php!!!	modal(in src : string, in relative : bool = FALSE) : void
		$this->jquery_code_for_load[] = $this->external($src, $relative);
!!!712066.php!!!	effect(in src : string, in relative : bool = FALSE) : void
		$this->jquery_code_for_load[] = $this->external($src, $relative);
!!!712194.php!!!	plugin(in src : string, in relative : bool = FALSE) : void
		$this->jquery_code_for_load[] = $this->external($src, $relative);
!!!712322.php!!!	ui(in src : string, in relative : bool = FALSE) : void
		$this->jquery_code_for_load[] = $this->external($src, $relative);
!!!712450.php!!!	sortable(in element : string, in options : array = array()) : string
		if (count($options) > 0)
		{
			$sort_options = array();
			foreach ($options as $k=>$v)
			{
				$sort_options[] = "\n\t\t".$k.': '.$v;
			}
			$sort_options = implode(',', $sort_options);
		}
		else
		{
			$sort_options = '';
		}

		return '$('.$this->_prep_element($element).').sortable({'.$sort_options."\n\t});";
!!!712578.php!!!	tablesorter(in table : string = '', in options : string = '') : string
		$this->jquery_code_for_compile[] = "\t$(".$this->_prep_element($table).').tablesorter('.$options.");\n";
!!!712706.php!!!	_add_event(in element : string, in js : string, in event : string) : string
		if (is_array($js))
		{
			$js = implode("\n\t\t", $js);
		}

		$event = "\n\t$(".$this->_prep_element($element).').'.$event."(function(){\n\t\t{$js}\n\t});\n";
		$this->jquery_code_for_compile[] = $event;
		return $event;
!!!712834.php!!!	_compile(in view_var : string = 'script_foot', in script_tags : bool = TRUE) : void
		// External references
		$external_scripts = implode('', $this->jquery_code_for_load);
		$this->CI->load->vars(array('library_src' => $external_scripts));

		if (count($this->jquery_code_for_compile) === 0)
		{
			// no inline references, let's just return
			return;
		}

		// Inline references
		$script = '$(document).ready(function() {'."\n"
			.implode('', $this->jquery_code_for_compile)
			.'});';

		$output = ($script_tags === FALSE) ? $script : $this->inline($script);

		$this->CI->load->vars(array($view_var => $output));
!!!712962.php!!!	_clear_compile() : void
		$this->jquery_code_for_compile = array();
!!!713090.php!!!	_document_ready(in js : array) : void
		is_array($js) OR $js = array($js);

		foreach ($js as $script)
		{
			$this->jquery_code_for_compile[] = $script;
		}
!!!713218.php!!!	script(in library_src : string = '', in relative : bool = FALSE) : string
		$library_src = $this->external($library_src, $relative);
		$this->jquery_code_for_load[] = $library_src;
		return $library_src;
!!!713346.php!!!	_prep_element(in element : string) : string
		if ($element !== 'this')
		{
			$element = '"'.$element.'"';
		}

		return $element;
!!!713474.php!!!	_validate_speed(in speed : string) : string
		if (in_array($speed, array('slow', 'normal', 'fast')))
		{
			return '"'.$speed.'"';
		}
		elseif (preg_match('/[^0-9]/', $speed))
		{
			return '';
		}

		return $speed;
